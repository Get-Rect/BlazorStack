@using Microsoft.AspNetCore.Components.Authorization
@inherits LayoutComponentBase

<div class="header primary">
    <AuthorizeView>
        <Authorized>
            Logged in as @context.User.Identity?.Name. <a class="primary" href="logout"><i class="fa-solid fa-right-from-bracket"></i> Logout</a>
        </Authorized>
        <NotAuthorized>
            <a href="login"><i class="fa-solid fa-right-to-bracket"></i> Login</a>
            <a href="register"><i class="fa-solid fa-user-pen"></i> Register</a>
        </NotAuthorized>
    </AuthorizeView>
</div>

<div class="@SideBarCssClass">
    <BlazorStack.Portal.Components.NavMenu OnCollapseMenu="CollapseMenu" />
</div>

<div class="main @(SideBarIsCollapsed ? "shifted" : "")">
    <div class="content">
        @Body
    </div>
</div>

@code {
    private bool SideBarIsCollapsed;
    private string SideBarCssClass = "sidebar";

    private void CollapseMenu()
    {
        SideBarIsCollapsed = !SideBarIsCollapsed;
        SideBarCssClass = SideBarIsCollapsed ? "sidebar collapsed" : "sidebar";
    }
}